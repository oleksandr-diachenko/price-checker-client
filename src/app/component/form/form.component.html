<div class="container">
    <div [hidden]="isStatusesView">
        <app-error [errorMessage]="errorMessage"></app-error>
        <app-success [successMessage]="successMessage"></app-success>
        <form #inputNgForm="ngForm">

            <div class="form-group">
                <div class="custom-file">
                    <label class="custom-file-label text-black-50" for="file" id="fileInputLabel">Choose file</label>
                    <input (change)="fileProgress($event)" accept=".xls,.xlsx" class="custom-file-input" id="file" name="file"
                           required type="file">
                </div>
                <div [hidden]="inputForm.file" class="alert alert-danger">
                    File is required
                </div>
            </div>

            <div class="form-group">
                <label class="font-weight-light text-black-50" for="urlColumn">Enter url column</label>
                <input #urlColumn="ngModel" [(ngModel)]="inputForm.urlColumn" class="form-control input-lg" id="urlColumn" name="urlColumn"
                       required type="number">
                <div [hidden]="urlColumn.valid || urlColumn.pristine" class="alert alert-danger">
                    Url column number is required
                </div>
            </div>

            <div class="form-group">
                <label class="font-weight-light text-black-50" for="insertColumn">Enter insert column</label>
                <input #insertColumn="ngModel" [(ngModel)]="inputForm.insertColumn" class="form-control input-lg" id="insertColumn" name="insertColumn"
                       required type="number">
                <div [hidden]="insertColumn.valid || insertColumn.pristine" class="alert alert-danger">
                    Insert column number is required
                </div>
            </div>

            <div class="d-flex justify-content-between">
                <button (click)="checkPrice();errorMessage=null;successMessage=null" [disabled]="!inputNgForm.form.valid || !inputForm.file" class="btn btn-primary btn-lg"
                        type="submit">
                    Check
                </button>

                <button (click)="isStatusesView=true" class="btn btn-secondary btn-lg" type="button">
                    Statuses
                </button>
            </div>
        </form>
    </div>
    <app-status (unstatusEvent)="receiveStatus($event)" [isStatusesView]="isStatusesView"></app-status>
</div>
